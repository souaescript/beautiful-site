<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>You Have Been Beautiful</title>
  <style>
    html, body{
      height:100%;
      margin:0;
      background:#000;
      overflow:hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }

    /* Center everything */
    .wrap{
      height:100%;
      display:grid;
      place-items:center;
      padding:24px;
    }

    .stack{
      display:grid;
      justify-items:center;
      gap:22px;
    }

    /* Pixelation filter applies ONLY to the text wrapper */
    .pixelated{
      filter:url(#pixelate);
      image-rendering: pixelated;
    }

    .glitch{
      position:relative;
      color:#fff;
      font-weight:900;
      letter-spacing:0.02em;
      text-transform:lowercase;
      line-height:1.02;
      text-align:center;
      user-select:none;
      font-size:clamp(44px, 7vw, 120px);
      filter:saturate(1.6);
    }

    /* Slight glow behind main text */
    .glitch::after{
      content: attr(data-text);
      position:absolute;
      inset:0;
      color:transparent;
      text-shadow:
        0 0 10px rgba(255,255,255,0.22),
        0 0 28px rgba(255,255,255,0.10);
      pointer-events:none;
    }

    /* RGB split layers */
    .glitch::before,
    .glitch span{
      content: attr(data-text);
      position:absolute;
      inset:0;
      pointer-events:none;
      mix-blend-mode: screen;
      opacity:0.95;
    }

    .glitch::before{
      color:#00e5ff;
      text-shadow: 4px 0 #00e5ff;
      animation: shiftC 1.4s infinite steps(2,end);
    }
    .glitch span{
      color:#ff2bd6;
      text-shadow: -4px 0 #ff2bd6;
      animation: shiftM 1.8s infinite steps(2,end);
    }

    /* Optional scanline overlay */
    .scanlines::before{
      content:"";
      position:fixed;
      inset:0;
      background:
        repeating-linear-gradient(
          to bottom,
          rgba(255,255,255,0.05),
          rgba(255,255,255,0.05) 1px,
          rgba(0,0,0,0) 2px,
          rgba(0,0,0,0) 7px
        ),
        radial-gradient(circle at 20% 30%, rgba(255,0,200,0.14), transparent 45%),
        radial-gradient(circle at 80% 70%, rgba(0,255,220,0.14), transparent 45%),
        radial-gradient(circle at 55% 45%, rgba(255,255,0,0.06), transparent 55%);
      mix-blend-mode: screen;
      pointer-events:none;
      animation: drift 6s linear infinite;
    }

    @keyframes drift{
      0%{ transform: translateY(0); }
      100%{ transform: translateY(18px); }
    }

    /* Glitch jitter */
    @keyframes shiftC{
      0%{transform:translate(0,0)}
      20%{transform:translate(3px,0)}
      40%{transform:translate(-7px,0) skewX(1deg)}
      60%{transform:translate(6px,0) skewX(-1deg)}
      80%{transform:translate(-4px,0)}
      100%{transform:translate(0,0)}
    }
    @keyframes shiftM{
      0%{transform:translate(0,0)}
      25%{transform:translate(-4px,0) skewX(-1deg)}
      50%{transform:translate(8px,0) skewX(1deg)}
      75%{transform:translate(-6px,0)}
      100%{transform:translate(0,0)}
    }

    /* Tear burst animations (triggered by JS) */
    @keyframes tear1 {
      0% { clip-path: inset(0 0 90% 0); transform: translate(0,0); }
      12%{ clip-path: inset(12% 0 60% 0); transform: translate(-18px,0); }
      24%{ clip-path: inset(42% 0 30% 0); transform: translate(22px,0); }
      36%{ clip-path: inset(78% 0 8% 0);  transform: translate(-26px,0); }
      48%{ clip-path: inset(22% 0 56% 0); transform: translate(16px,0); }
      60%{ clip-path: inset(0 0 88% 0);  transform: translate(0,0); }
      100%{ clip-path: inset(0 0 90% 0); transform: translate(0,0); }
    }

    @keyframes tear2 {
      0% { clip-path: inset(86% 0 0 0); transform: translate(0,0); }
      14%{ clip-path: inset(58% 0 14% 0); transform: translate(26px,0); }
      28%{ clip-path: inset(14% 0 58% 0); transform: translate(-20px,0); }
      42%{ clip-path: inset(72% 0 10% 0); transform: translate(30px,0); }
      56%{ clip-path: inset(86% 0 0 0); transform: translate(0,0); }
      100%{ clip-path: inset(86% 0 0 0); transform: translate(0,0); }
    }

    /* Cat image (NOT pixelated/glitched) */
    .cat{
      max-width: min(520px, 82vw);
      max-height: 46vh;
      width: auto;
      height: auto;
      display:block;
      border-radius: 14px;
      box-shadow: 0 0 26px rgba(255,255,255,0.10);
      /* Important: prevent inheriting pixelation-like rendering hints */
      image-rendering: auto;
      filter: none;
    }

    @media (prefers-reduced-motion: reduce){
      .glitch::before, .glitch span, .scanlines::before { animation:none !important; }
    }
  </style>
</head>

<body class="scanlines">
  <!-- SVG filter definition (hidden): controls pixelation strength for TEXT ONLY -->
  <svg width="0" height="0" style="position:absolute">
    <filter id="pixelate" x="-20%" y="-20%" width="140%" height="140%">
      <!-- Increase radius for MORE chunkiness: try 6, 8, 10 -->
      <feMorphology in="SourceGraphic" operator="dilate" radius="8" result="dilated"/>
      <feComponentTransfer in="dilated" result="poster">
        <feFuncR type="discrete" tableValues="0 0.25 0.5 0.75 1"/>
        <feFuncG type="discrete" tableValues="0 0.25 0.5 0.75 1"/>
        <feFuncB type="discrete" tableValues="0 0.25 0.5 0.75 1"/>
        <feFuncA type="table" tableValues="0 1"/>
      </feComponentTransfer>
      <feConvolveMatrix in="poster" order="3" kernelMatrix="
        0 -1  0
       -1  5 -1
        0 -1  0" result="sharp"/>
      <feMerge>
        <feMergeNode in="sharp"/>
      </feMerge>
    </filter>
  </svg>

  <main class="wrap">
    <div class="stack">
      <div class="pixelated">
        <div class="glitch" data-text="you have been beautiful">
          you have been beautiful
          <span aria-hidden="true">you have been beautiful</span>
        </div>
      </div>

      <!-- Plain centered cat image -->
      <img class="cat" src="assets/cat.png" alt="Cat" />
    </div>
  </main>

  <script>
    // Random glitch “tear” bursts (text only)
    const el = document.querySelector(".glitch");
    let armed = false;

    function burst(){
      if (armed) return;
      armed = true;

      el.style.animation = "tear1 0.85s steps(2,end) 1";
      el.querySelector("span").style.animation = "tear2 0.85s steps(2,end) 1";
      el.style.filter = "saturate(2.0) contrast(1.2)";

      setTimeout(() => {
        el.style.animation = "";
        el.querySelector("span").style.animation = "";
        el.style.filter = "saturate(1.6)";
        armed = false;
      }, 900);
    }

    (function loop(){
      const t = 900 + Math.random() * 2600;
      setTimeout(() => { burst(); loop(); }, t);
    })();

    window.addEventListener("pointerdown", burst, { passive:true });
  </script>
</body>
</html>
